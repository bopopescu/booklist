{"ast":null,"code":"var _jsxFileName = \"/Users/mac/app/book_directory/book-list/src/List.js\";\nimport React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport Modal from 'react-modal';\nimport Moment from 'react-moment';\nimport axios from 'axios';\nimport moment from 'moment';\nimport './List.scss';\nlibrary.add(faEdit, faTrash);\n\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openModalAdd = async () => {\n      this.setState({\n        modalAdd: true\n      });\n    };\n\n    this.closeModalAdd = async () => {\n      this.setState({\n        modalAdd: false\n      });\n      window.location.reload(false);\n    };\n\n    this.fetchDataTable = async () => {\n      axios.get('http://localhost:5000/users').then(res => {\n        const _response = res.data;\n\n        if (_response.status == '00') {\n          this.setState({\n            tableData: _response.data\n          });\n        }\n      });\n    };\n\n    this.openModalEdit = async id => {\n      this.setState({\n        modalEdit: true\n      });\n      var data = new FormData();\n      data.append('id', id);\n      axios.post('http://localhost:5000/bookdetail', data).then(res => {\n        const _response = res.data;\n        console.log(_response.bookdata);\n\n        if (_response.status == '00') {\n          this.setState({\n            book_id: _response.bookdata.id\n          });\n          this.setState({\n            titleValue: _response.bookdata.title\n          });\n          this.setState({\n            authorValue: _response.bookdata.author\n          });\n          this.setState({\n            dateValue: moment(new Date(_response.bookdata.date)).format(\"YYYY-MM-DD\")\n          });\n          this.setState({\n            numpageValue: _response.bookdata.num_page\n          });\n          this.setState({\n            booktypeValue: _response.bookdata.book_type\n          });\n        } else if (_response.status == '50') {\n          console.log('duplicate');\n        }\n      });\n    };\n\n    this.closeModalEdit = async () => {\n      this.setState({\n        modalEdit: false\n      });\n      window.location.reload(false);\n    };\n\n    this.openModalDelete = async id => {\n      this.setState({\n        modalDelete: true\n      });\n      var data = new FormData();\n      data.append('id', id);\n      axios.post('http://localhost:5000/bookdetail', data).then(res => {\n        const _response = res.data;\n        console.log(_response.bookdata);\n\n        if (_response.status == '00') {\n          this.setState({\n            book_id: _response.bookdata.id\n          });\n          this.setState({\n            titleValue: _response.bookdata.title\n          });\n          this.setState({\n            authorValue: _response.bookdata.author\n          });\n          this.setState({\n            dateValue: moment(new Date(_response.bookdata.date)).format(\"YYYY-MM-DD\")\n          });\n          this.setState({\n            numpageValue: _response.bookdata.num_page\n          });\n          this.setState({\n            booktypeValue: _response.bookdata.book_type\n          });\n        } else if (_response.status == '50') {\n          console.log('duplicate');\n        }\n      });\n    };\n\n    this.closeModalDelete = async () => {\n      this.setState({\n        modalDelete: false\n      });\n      window.location.reload(false);\n    };\n\n    this.state = {\n      tableData: [],\n      modalAdd: false,\n      modalEdit: false,\n      modalDelete: false,\n      titleValue: '',\n      authorValue: '',\n      dateValue: '',\n      numpageValue: '',\n      booktypeValue: '',\n      book_id: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleSubmitEdit = this.handleSubmitEdit.bind(this);\n  }\n\n  handleSubmit(event) {\n    var data = new FormData();\n    data.append('title', this.state.titleValue);\n    data.append('author', this.state.authorValue);\n    data.append('date', this.state.dateValue);\n    data.append('num_page', this.state.numpageValue);\n    data.append('book_type', this.state.booktypeValue);\n    console.log(this.state.titleValue);\n    console.log(this.state.authorValue);\n    console.log(this.state.dateValue);\n    console.log(this.state.numpageValue);\n    console.log(this.state.booktypeValue);\n    axios.post('http://localhost:5000/add_book', data).then(res => {\n      const _response = res.data;\n\n      if (_response.status == '00') {\n        console.log('sukses');\n        this.setState({\n          modalAdd: false\n        });\n        window.location.reload(false);\n      } else if (_response.status == '50') {\n        console.log('duplicate');\n      }\n    });\n    event.preventDefault();\n  }\n\n  handleSubmitEdit(event) {\n    var data = new FormData();\n    data.append('id', this.state.book_id);\n    data.append('title', this.state.titleValue);\n    data.append('author', this.state.authorValue);\n    data.append('date', this.state.dateValue);\n    data.append('num_page', this.state.numpageValue);\n    data.append('book_type', this.state.booktypeValue);\n    console.log(this.state.titleValue);\n    console.log(this.state.authorValue);\n    console.log(this.state.dateValue);\n    console.log(this.state.numpageValue);\n    console.log(this.state.booktypeValue);\n    axios.post('http://localhost:5000/edit_book', data).then(res => {\n      const _response = res.data;\n\n      if (_response.status == '00') {\n        console.log('sukses');\n        this.setState({\n          modalAdd: false\n        });\n        window.location.reload(false);\n      } else if (_response.status == '50') {\n        console.log('duplicate');\n      }\n    });\n    event.preventDefault();\n  }\n\n  afterOpenModal() {// references are now sync'd and can be accessed.\n    // subtitle.style.color = '#f00';\n  }\n\n  componentDidMount() {\n    this.fetchDataTable();\n  }\n\n  createTable() {\n    let i;\n\n    for (i = 0; i < this.state.tableData.length; i++) {\n      console.log(i + 1);\n    }\n\n    return this.state.tableData.map((book, index) => {\n      const {\n        id,\n        title,\n        author,\n        date,\n        num_page,\n        book_type\n      } = book; //destructuring\n\n      if (this.state.tableData.length == 0) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }\n        }, \"Transaksi tidak memiliki diskon\"));\n      } else {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 14\n          }\n        }, index + 1, \".\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 14\n          }\n        }, author), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 14\n          }\n        }, title), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 14\n          }\n        }, date), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 14\n          }\n        }, num_page), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 14\n          }\n        }, book_type), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"control\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: \"edit\",\n          className: \"iconEdit\",\n          onClick: () => this.openModalEdit(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"control\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: \"trash\",\n          className: \"iconDelete\",\n          onClick: () => this.openModalDelete(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }\n        }))));\n      }\n    });\n    return null;\n  }\n\n  render() {\n    const customStyles = {\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, \"Book List\"), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, \"No.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, \"Author.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, \"Title.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, \"Date.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, \"Number of Page.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, \"Book Type.\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, \"Option.\")), this.createTable())), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.openModalAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }, \"Open Modal\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalAdd,\n      onAfterOpen: this.afterOpenModal,\n      onRequestClose: this.closeModalAdd,\n      ariaHideApp: false,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, \"Add Book\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Book Title\",\n      value: this.state.titleValue,\n      onChange: event => this.setState({\n        titleValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Author Name\",\n      value: this.state.authorValue,\n      onChange: event => this.setState({\n        authorValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"date\",\n      placeholder: \"Author Name\",\n      value: this.state.dateValue,\n      onChange: event => this.setState({\n        dateValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"number\",\n      placeholder: \"Total Page\",\n      value: this.state.numpageValue,\n      onChange: event => this.setState({\n        numpageValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Book Type\",\n      value: this.state.booktypeValue,\n      onChange: event => this.setState({\n        booktypeValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"submit\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancel\",\n      onClick: this.closeModalAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalEdit,\n      onAfterOpen: this.afterOpenModal,\n      onRequestClose: this.closeModalEdit,\n      ariaHideApp: false,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }\n    }, \"Add Book\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmitEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Book Title\",\n      value: this.state.titleValue,\n      onChange: event => this.setState({\n        titleValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Author Name\",\n      value: this.state.authorValue,\n      onChange: event => this.setState({\n        authorValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"date\",\n      placeholder: \"Author Name\",\n      value: this.state.dateValue,\n      onChange: event => this.setState({\n        dateValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"number\",\n      placeholder: \"Total Page\",\n      value: this.state.numpageValue,\n      onChange: event => this.setState({\n        numpageValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"modal\",\n      type: \"text\",\n      placeholder: \"Book Type\",\n      value: this.state.booktypeValue,\n      onChange: event => this.setState({\n        booktypeValue: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"submit\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancel\",\n      onClick: this.closeModalEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalDelete,\n      onAfterOpen: this.afterOpenModal,\n      onRequestClose: this.closeModalDelete,\n      ariaHideApp: false,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }\n    }, \"Delete Book\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmitEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }\n    }, \"Are you sure you want to delete '\", this.state.titleValue, \"' book?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"submit\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancel\",\n      onClick: this.closeModalEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 15\n      }\n    }, \"Cancel\"))))));\n  }\n\n}\n\nexport default Table;","map":{"version":3,"sources":["/Users/mac/app/book_directory/book-list/src/List.js"],"names":["React","Component","library","FontAwesomeIcon","faEdit","faTrash","Modal","Moment","axios","moment","add","Table","constructor","props","openModalAdd","setState","modalAdd","closeModalAdd","window","location","reload","fetchDataTable","get","then","res","_response","data","status","tableData","openModalEdit","id","modalEdit","FormData","append","post","console","log","bookdata","book_id","titleValue","title","authorValue","author","dateValue","Date","date","format","numpageValue","num_page","booktypeValue","book_type","closeModalEdit","openModalDelete","modalDelete","closeModalDelete","state","handleSubmit","bind","handleSubmitEdit","event","preventDefault","afterOpenModal","componentDidMount","createTable","i","length","map","book","index","render","customStyles","content","top","left","right","bottom","marginRight","transform","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport Modal from 'react-modal';\nimport Moment from 'react-moment';\nimport axios from 'axios';\nimport moment from 'moment'\nimport './List.scss';\nlibrary.add(faEdit, faTrash);\n\n\nclass Table extends Component {\n\n  constructor(props){\n     super(props);\n     this.state = {\n      tableData: [],\n      modalAdd: false,\n      modalEdit: false,\n      modalDelete: false,\n      titleValue: '',\n      authorValue: '',\n      dateValue: '',\n      numpageValue: '',\n      booktypeValue: '',\n      book_id:'',\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleSubmitEdit = this.handleSubmitEdit.bind(this);\n  }\n\n  handleSubmit(event) {\n    var data = new FormData();\n    data.append('title', this.state.titleValue)\n    data.append('author', this.state.authorValue)\n    data.append('date', this.state.dateValue)\n    data.append('num_page', this.state.numpageValue)\n    data.append('book_type', this.state.booktypeValue)\n    console.log(this.state.titleValue);\n    console.log(this.state.authorValue);\n    console.log(this.state.dateValue);\n    console.log(this.state.numpageValue);\n    console.log(this.state.booktypeValue);\n\n    axios.post('http://localhost:5000/add_book', data)\n    .then(res => {\n      const _response = res.data;\n      if(_response.status == '00'){\n        console.log('sukses')\n        this.setState({modalAdd:false});\n        window.location.reload(false);\n      }else if(_response.status == '50'){\n        console.log('duplicate')\n      }\n    })\n    event.preventDefault();\n  }\n\n  handleSubmitEdit(event) {\n    var data = new FormData();\n    data.append('id', this.state.book_id);\n    data.append('title', this.state.titleValue)\n    data.append('author', this.state.authorValue)\n    data.append('date', this.state.dateValue)\n    data.append('num_page', this.state.numpageValue)\n    data.append('book_type', this.state.booktypeValue)\n    console.log(this.state.titleValue);\n    console.log(this.state.authorValue);\n    console.log(this.state.dateValue);\n    console.log(this.state.numpageValue);\n    console.log(this.state.booktypeValue);\n\n    axios.post('http://localhost:5000/edit_book', data)\n    .then(res => {\n      const _response = res.data;\n      if(_response.status == '00'){\n        console.log('sukses')\n        this.setState({modalAdd:false});\n        window.location.reload(false);\n      }else if(_response.status == '50'){\n        console.log('duplicate')\n      }\n    })\n    event.preventDefault();\n  }\n\n  openModalAdd = async () => {\n    this.setState({modalAdd:true});\n  };\n\n  closeModalAdd = async () => {\n    this.setState({modalAdd:false});\n    window.location.reload(false);\n  };\n\n  afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    // subtitle.style.color = '#f00';\n  }\n\n  componentDidMount() {\n    this.fetchDataTable();\n  }\n\n  fetchDataTable = async () => {\n    axios.get('http://localhost:5000/users')\n    .then(res => {\n      const _response = res.data;\n      if(_response.status == '00'){\n        this.setState({ tableData: _response.data });\n      }\n    })\n  };\n\n  openModalEdit = async (id) => {\n    this.setState({modalEdit:true})\n    var data = new FormData();\n    data.append('id', id);\n    axios.post('http://localhost:5000/bookdetail', data)\n    .then(res => {\n      const _response = res.data;\n      console.log(_response.bookdata)\n      if(_response.status == '00'){\n        this.setState({book_id:_response.bookdata.id})\n        this.setState({titleValue:_response.bookdata.title})\n        this.setState({authorValue:_response.bookdata.author})\n        this.setState({dateValue:moment(new Date(_response.bookdata.date)).format(\"YYYY-MM-DD\")});\n        this.setState({numpageValue:_response.bookdata.num_page})\n        this.setState({booktypeValue:_response.bookdata.book_type})\n      }else if(_response.status == '50'){\n        console.log('duplicate')\n      }\n    })\n  };\n\n  closeModalEdit = async () => {\n    this.setState({modalEdit:false})\n    window.location.reload(false);\n  };\n\n  openModalDelete = async (id) => {\n    this.setState({modalDelete:true})\n    var data = new FormData();\n    data.append('id', id);\n    axios.post('http://localhost:5000/bookdetail', data)\n    .then(res => {\n      const _response = res.data;\n      console.log(_response.bookdata)\n      if(_response.status == '00'){\n        this.setState({book_id:_response.bookdata.id})\n        this.setState({titleValue:_response.bookdata.title})\n        this.setState({authorValue:_response.bookdata.author})\n        this.setState({dateValue:moment(new Date(_response.bookdata.date)).format(\"YYYY-MM-DD\")});\n        this.setState({numpageValue:_response.bookdata.num_page})\n        this.setState({booktypeValue:_response.bookdata.book_type})\n      }else if(_response.status == '50'){\n        console.log('duplicate')\n      }\n    })\n  };\n\n  closeModalDelete = async () => {\n    this.setState({modalDelete:false})\n    window.location.reload(false);\n  };\n\n  createTable(){\n    let i;\n    for(i=0;i<this.state.tableData.length;i++){\n      console.log(i+1)}\n    return this.state.tableData.map((book, index) => {\n      const { id, title, author, date, num_page, book_type } = book //destructuring\n      if(this.state.tableData.length == 0){\n        return(\n          <tr>\n            <td>Transaksi tidak memiliki diskon</td>\n          </tr>\n        )\n      }else{\n          return(\n            <tr key={id}>\n             <td>{index+1}.</td>\n             <td>{author}</td>\n             <td>{title}</td>\n             <td>{date}</td>\n             <td>{num_page}</td>\n             <td>{book_type}</td>\n             <td>\n              <div className=\"control\">\n                <FontAwesomeIcon icon=\"edit\" className=\"iconEdit\" onClick={() => this.openModalEdit(id)}/>\n              </div>\n              <div className=\"control\">\n                <FontAwesomeIcon icon=\"trash\" className=\"iconDelete\" onClick={() => this.openModalDelete(id)}/>\n              </div>\n             </td>\n            </tr>\n        )\n      }})\n    return null;\n  }\n\n\n  render() {\n    const customStyles = {\n    content : {\n      top                   : '50%',\n      left                  : '50%',\n      right                 : 'auto',\n      bottom                : 'auto',\n      marginRight           : '-50%',\n      transform             : 'translate(-50%, -50%)'\n    }\n  };\n    return (\n      <div>\n        <h1>Book List</h1>\n        <table id=\"students\">\n          <tbody>\n           <tr>\n            <th>No.</th>\n            <th>Author.</th>\n            <th>Title.</th>\n            <th>Date.</th>\n            <th>Number of Page.</th>\n            <th>Book Type.</th>\n            <th>Option.</th>\n           </tr>\n           {this.createTable()}\n          </tbody>\n        </table>\n        <div>\n        <button onClick={this.openModalAdd}>Open Modal</button>\n        <Modal\n          isOpen={this.state.modalAdd}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModalAdd}\n          ariaHideApp={false}\n          style={customStyles}\n          contentLabel=\"Example Modal\">\n          <h2 id=\"modal\">Add Book</h2>\n          <form onSubmit={this.handleSubmit}>\n            <div>\n              <input id=\"modal\" type=\"text\" placeholder=\"Book Title\" value={this.state.titleValue} onChange={event => this.setState({ titleValue: event.target.value })}/>\n              <input id=\"modal\" type=\"text\" placeholder=\"Author Name\" value={this.state.authorValue} onChange={event => this.setState({ authorValue: event.target.value })}/>\n              <input id=\"modal\" type=\"date\" placeholder=\"Author Name\" value={this.state.dateValue} onChange={event => this.setState({ dateValue: event.target.value })}/>\n              <input id=\"modal\" type=\"number\" placeholder=\"Total Page\" value={this.state.numpageValue} onChange={event => this.setState({ numpageValue: event.target.value })}/>\n              <input id=\"modal\" type=\"text\" placeholder=\"Book Type\" value={this.state.booktypeValue} onChange={event => this.setState({ booktypeValue: event.target.value })}/>\n            </div>\n            <div className=\"buttons\">\n              <input className=\"submit\" type=\"submit\" value=\"Submit\"/>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"cancel\" onClick={this.closeModalAdd}>Cancel</button>\n            </div>\n          </form>\n        </Modal>\n        <Modal\n          isOpen={this.state.modalEdit}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModalEdit}\n          ariaHideApp={false}\n          style={customStyles}\n          contentLabel=\"Example Modal\">\n          <h2 id=\"modal\">Add Book</h2>\n          <form onSubmit={this.handleSubmitEdit}>\n            <div>\n              <input id=\"modal\" type=\"text\" placeholder=\"Book Title\" value={this.state.titleValue} onChange={event => this.setState({ titleValue: event.target.value })}/>\n              <input id=\"modal\" type=\"text\" placeholder=\"Author Name\" value={this.state.authorValue} onChange={event => this.setState({ authorValue: event.target.value })}/>\n              <input id=\"modal\" type=\"date\" placeholder=\"Author Name\" value={this.state.dateValue} onChange={event => this.setState({ dateValue: event.target.value })}/>\n              <input id=\"modal\" type=\"number\" placeholder=\"Total Page\" value={this.state.numpageValue} onChange={event => this.setState({ numpageValue: event.target.value })}/>\n              <input id=\"modal\" type=\"text\" placeholder=\"Book Type\" value={this.state.booktypeValue} onChange={event => this.setState({ booktypeValue: event.target.value })}/>\n            </div>\n            <div className=\"buttons\">\n              <input className=\"submit\" type=\"submit\" value=\"Submit\"/>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"cancel\" onClick={this.closeModalEdit}>Cancel</button>\n            </div>\n          </form>\n        </Modal>\n        <Modal\n          isOpen={this.state.modalDelete}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModalDelete}\n          ariaHideApp={false}\n          style={customStyles}\n          contentLabel=\"Example Modal\">\n          <h2 id=\"modal\">Delete Book</h2>\n          <form onSubmit={this.handleSubmitEdit}>\n            <h3>Are you sure you want to delete '{this.state.titleValue}' book?</h3>\n            <div className=\"buttons\">\n              <input className=\"submit\" type=\"submit\" value=\"Submit\"/>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"cancel\" onClick={this.closeModalEdit}>Cancel</button>\n            </div>\n          </form>\n        </Modal>\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}